<script>
for(var entries=document.cookie.split("; "),cookies={},i=entries.length-1;0<=i;i--)
{var entry=entries[i].split("=",2);cookies[entry[0]]=entry[1]}function fetchlike(t){return"function"==typeof fetch?fetch("https://gql.twitch.tv/gql",t):new Promise(function(e,a){var o=new XMLHttpRequest;o.open("POST","https://gql.twitch.tv/gql"),Object.keys(t.headers).forEach(function(e){try{o.setRequestHeader(e,t.headers[e])}catch(e){console.error(e)}}),o.withCredentials="include"===t.credentials,o.onerror=a,o.onload=function(){var t={status:o.status,statusText:o.statusText,body:o.response||o.responseText,ok:200<=o.status&&o.status<300,json:function(){return new Promise(function(e,a){try{e(JSON.parse(t.body))}catch(e){a(e)}})}};e(t)},o.send(t.body)})}var vodID,channelName,authorization=cookies["auth-token"]?"OAuth "+cookies["auth-token"]:void 0,commonOptions={method:"POST",headers:{"Accept-Language":"en-US",Accept:"*/*",Authorization:authorization,"Client-ID":"kimne78kx3ncx6brgo4mv6wki5h1ko","Content-Type":"text/plain; charset=UTF-8","Device-ID":cookies.unique_id}},playerType="site",channelMatch=window.location.search.match(/channel=([A-Za-z0-9]+)(?:&|$)/);channelMatch&&channelMatch[1]&&(channelName=channelMatch[1]);var videoMatch=window.location.search.match(/video=([A-Za-z0-9]+)(?:&|$)/);videoMatch&&videoMatch[1]&&(vodID=videoMatch[1].startsWith("v")?videoMatch[1].substr(1):videoMatch[1]);var query='query PlaybackAccessToken_Template($login: String!, $isLive: Boolean!, $vodID: ID!, $isVod: Boolean!, $playerType: String!) {  streamPlaybackAccessToken(channelName: $login, params: {platform: "web", playerBackend: "mediaplayer", playerType: $playerType}) @include(if: $isLive) {    value    signature    __typename  }  videoPlaybackAccessToken(id: $vodID, params: {platform: "web", playerBackend: "mediaplayer", playerType: $playerType}) @include(if: $isVod) {    value    signature    __typename  }}',bodyBase={operationName:"PlaybackAccessToken_Template",query:query};if(vodID){var body=JSON.stringify(Object.assign({},bodyBase,{variables:{isLive:!1,login:"",isVod:!0,vodID:vodID,playerType:playerType}}));window.__vat={contentType:"vod",id:vodID,playerType:playerType,request:fetchlike(Object.assign({},commonOptions,{body:body}))}}else if(channelName){body=JSON.stringify(Object.assign({},bodyBase,{variables:{isLive:!0,login:channelName,isVod:!1,vodID:"",playerType:playerType}}));window.__vat={contentType:"live",id:channelName,playerType:playerType,request:fetchlike(Object.assign({},commonOptions,{body:body}))}}</script>
